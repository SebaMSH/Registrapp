{"version":3,"file":"src_app_login_reestablecer_reestablecer_module_ts.js","mappings":"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","sources":["./src/app/login/reestablecer/reestablecer-routing.module.ts","./src/app/login/reestablecer/reestablecer.module.ts","./src/app/login/reestablecer/reestablecer.page.ts","./src/app/login/reestablecer/reestablecer.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ReestablecerPage } from './reestablecer.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReestablecerPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ReestablecerPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ReestablecerPageRoutingModule } from './reestablecer-routing.module';\r\n\r\nimport { ReestablecerPage } from './reestablecer.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReestablecerPageRoutingModule\r\n  ],\r\n  declarations: [ReestablecerPage]\r\n})\r\nexport class ReestablecerPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UsuarioService}  from '../signup/usuario.service';\r\nimport { Usuario } from '../signup/usuario.model';\r\nimport { Router, NavigationExtras,ActivatedRoute } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { StringMap } from '@angular/compiler/src/compiler_facade_interface';\r\n\r\n@Component({\r\n  selector: 'app-reestablecer',\r\n  templateUrl: './reestablecer.page.html',\r\n  styleUrls: ['./reestablecer.page.scss'],\r\n})\r\nexport class ReestablecerPage implements OnInit {\r\n  user={\r\n    usuario:'',\r\n    password:'',\r\n    confirmaPass : ''\r\n    \r\n  };\r\n  \r\n     \r\n   campo: string;\r\n\r\n  constructor(private router: Router,\r\n    private usuarioService: UsuarioService, private toastController: ToastController,private activatedRoute: ActivatedRoute) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n  reestablece(){\r\n    const navigationExtras: NavigationExtras = {\r\n      state: {\r\n        user: this.user \r\n      }\r\n    };\r\n    if(this.validateModel(this.user)){\r\n      \r\n      if(this.user.confirmaPass!=this.user.password)\r\n      {\r\n        \r\n        this.presentToast('Las contraseñas no coinciden');\r\n      }\r\n      else{\r\n          let usuarioObj= this.usuarioService.getUsuario(this.user.usuario);\r\n            usuarioObj.then( res=>{\r\n                this.usuarioService.updateUsuario(res.id,res.name_user,res.user,this.user.password);\r\n                this.presentToast('Contraseña actualizada');\r\n                this.router.navigate(['/login'],navigationExtras);\r\n            }).catch(function(e){\r\n              alert('Usuario no registrado');\r\n            });   \r\n          \r\n      }\r\n    }\r\n    else\r\n    {\r\n      this.presentToast('Falta completar: '+this.campo);\r\n    }\r\n  }\r\n\r\n  async presentToast(message: string, duration?: number){\r\n    const toast = await this.toastController.create(\r\n      {\r\n        message,\r\n        duration:duration?duration:2000\r\n      }\r\n    );\r\n    toast.present();\r\n  }\r\n\r\n  validateModel(model: any){\r\n  for (const [key, value] of Object.entries(model)) {\r\n    if (value==='') {\r\n      this.campo=key;\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n}\r\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button color=\\\"primary\\\" routerLink=\\\"/login\\\">\\r\\n        Acceder\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <h1>Reestablecer<br />Contraseña</h1>\\r\\n\\r\\n  <div id=\\\"form\\\">\\r\\n    <ion-item class=\\\"ion-margin-bottom\\\">\\r\\n      <ion-input [(ngModel)]=\\\"user.usuario\\\"  placeholder=\\\"Nombre de Usuario\\\" [type]=\\\"text\\\"></ion-input> \\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item class=\\\"ion-margin-bottom\\\">\\r\\n      <ion-input [(ngModel)]=\\\"user.password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\"></ion-input> \\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item class=\\\"ion-margin-bottom\\\">\\r\\n      <ion-input [(ngModel)]=\\\"user.confirmaPass\\\" type=\\\"password\\\" placeholder=\\\"Confirme Contraseña\\\"></ion-input> \\r\\n    </ion-item>\\r\\n\\r\\n    <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"reestablece()\\\">Reestablecer Contraseña</ion-button>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}