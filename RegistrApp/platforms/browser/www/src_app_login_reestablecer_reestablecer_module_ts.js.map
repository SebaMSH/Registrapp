{"version":3,"file":"src_app_login_reestablecer_reestablecer_module_ts.js","mappings":"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","sources":["./src/app/login/reestablecer/reestablecer-routing.module.ts","./src/app/login/reestablecer/reestablecer.module.ts","./src/app/login/reestablecer/reestablecer.page.ts","./src/app/login/reestablecer/reestablecer.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReestablecerPage } from './reestablecer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReestablecerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReestablecerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReestablecerPageRoutingModule } from './reestablecer-routing.module';\n\nimport { ReestablecerPage } from './reestablecer.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReestablecerPageRoutingModule\n  ],\n  declarations: [ReestablecerPage]\n})\nexport class ReestablecerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UsuarioService}  from '../signup/usuario.service';\nimport { Usuario } from '../signup/usuario.model';\nimport { Router, NavigationExtras,ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { StringMap } from '@angular/compiler/src/compiler_facade_interface';\n\n@Component({\n  selector: 'app-reestablecer',\n  templateUrl: './reestablecer.page.html',\n  styleUrls: ['./reestablecer.page.scss'],\n})\nexport class ReestablecerPage implements OnInit {\n  user={\n    usuario:'',\n    password:'',\n    confirmaPass : ''\n    \n  };\n  \n     \n   campo: string;\n\n  constructor(private router: Router,\n    private usuarioService: UsuarioService, private toastController: ToastController,private activatedRoute: ActivatedRoute) { }\n\n  ngOnInit() {\n  }\n  reestablece(){\n    const navigationExtras: NavigationExtras = {\n      state: {\n        user: this.user \n      }\n    };\n    if(this.validateModel(this.user)){\n      let usuarioObj= this.usuarioService.getUsuario(this.user.usuario);\n      if(this.user.confirmaPass!=this.user.password)\n      {\n        \n        this.presentToast('Las contraseñas no coinciden');\n      }\n      else{\n          usuarioObj.then( res=>{\n              this.usuarioService.updateUsuario(res.id,res.name_user,res.user,this.user.password);\n              this.presentToast('Contraseña actualizada');\n              this.router.navigate(['/login'],navigationExtras);\n          }).catch(function(e){\n            alert('Usuario no registrado');\n            \n          });   \n      }\n    }\n    else\n    {\n      this.presentToast('Falta completar: '+this.campo);\n    }\n  }\n\n  async presentToast(message: string, duration?: number){\n    const toast = await this.toastController.create(\n      {\n        message,\n        duration:duration?duration:2000\n      }\n    );\n    toast.present();\n  }\n\n  validateModel(model: any){\n  for (const [key, value] of Object.entries(model)) {\n    if (value==='') {\n      this.campo=key;\n      return false;\n    }\n  }\n  return true;\n}\n\n}\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button color=\\\"primary\\\" routerLink=\\\"/login\\\">\\n        Acceder\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <h1>Reestablecer<br />Contraseña</h1>\\n\\n  <div id=\\\"form\\\">\\n    <ion-item class=\\\"ion-margin-bottom\\\">\\n      <ion-input [(ngModel)]=\\\"user.usuario\\\"  placeholder=\\\"Nombre de Usuario\\\" [type]=\\\"text\\\"></ion-input> \\n    </ion-item>\\n\\n    <ion-item class=\\\"ion-margin-bottom\\\">\\n      <ion-input [(ngModel)]=\\\"user.password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\"></ion-input> \\n    </ion-item>\\n\\n    <ion-item class=\\\"ion-margin-bottom\\\">\\n      <ion-input [(ngModel)]=\\\"user.confirmaPass\\\" type=\\\"password\\\" placeholder=\\\"Confirme Contraseña\\\"></ion-input> \\n    </ion-item>\\n\\n    <ion-button expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"reestablece()\\\">Reestablecer Contraseña</ion-button>\\n  </div>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}